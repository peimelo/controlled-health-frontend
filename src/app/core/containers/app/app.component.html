<mat-sidenav-container class="sidenav-container">
  <mat-sidenav
    #drawer
    class="sidenav"
    fixedInViewport
    [attr.role]="(isHandset$ | async) ? 'dialog' : 'navigation'"
    [mode]="'over'"
    [opened]="false"
  >
    <mat-toolbar>Menu</mat-toolbar>

    <mat-nav-list>
      <app-nav-item
        hint="Login into app"
        icon="sign-in-alt"
        *ngIf="!(loggedIn$ | async)"
        routerLink="/login"
        (navigate)="drawer.toggle()"
      >
        Login
      </app-nav-item>

      <app-nav-item
        icon="user-plus"
        *ngIf="!(loggedIn$ | async)"
        routerLink="/create-account"
        (navigate)="drawer.toggle()"
      >
        Create an account
      </app-nav-item>

      <app-nav-item
        icon="sign-out-alt"
        *ngIf="loggedIn$ | async"
        (navigate)="drawer.toggle(); logout()"
      >
        Logout
      </app-nav-item>

      <app-nav-item
        hint="View your Dashboard"
        icon="tachometer-alt"
        *ngIf="loggedIn$ | async"
        routerLink="/dashboard"
        (navigate)="drawer.toggle()"
      >
        Dashboard
      </app-nav-item>

      <app-nav-item
        hint="View your Weights"
        icon="weight"
        *ngIf="loggedIn$ | async"
        routerLink="/weights"
        (navigate)="drawer.toggle()"
      >
        Weights
      </app-nav-item>
    </mat-nav-list>
  </mat-sidenav>

  <mat-sidenav-content>
    <app-toolbar
      [isSpinnerLoading]="showSpinner$ | async"
      [loggedIn]="loggedIn$ | async"
      [user]="user$ | async"
      (logout)="logout()"
      (openMenu)="drawer.toggle()"
    >
      Controlled Health
    </app-toolbar>

    <router-outlet></router-outlet>
  </mat-sidenav-content>
</mat-sidenav-container>
